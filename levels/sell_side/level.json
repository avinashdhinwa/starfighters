{"ok":true,"instanceId":8574,"account":"RES62991143","instructions":{"Instructions":"# Had Enough Hunting? Time to Try Farming!\n\nWelcome to your new job at Weasley, Sato, and Hughes.  We were impressed that you successfully exploited a market maker at your last job,\nso we want you to do something much harder: build one for us.  You've got control of **account WSH55472023** and have been\nassigned to be the ZSII Shanghai Exchange (*ZSIIEX*) market maker for KnowledgeBrain Ltd. (*KBL*).\n\nZSII Shanghai Exchange has no restrictions on your actions as a market maker -- you're not subject to a requirement to be in the market,\nto maximum sizes of spreads, etc.  One fly in the ointment, though: one of our competitors is also running a market making strategy.\nThey suck at it, but they're not totally asleep at the wheel, so you can't just do the dumbest thing possible and reap riskless \nprofits -- the dumbest thing is already spoken for.\n\nWorth noting: KnowledgeBrain Ltd. is a relative backwater in the investment world, followed by no analysts and appearing in the holdings\nof no mutual funds.  This is *great news* for you, as it means that you can assume there is very-little-to-no smart money in this \nmarket.  \n\nIt's all sheep.  Go fleece them.  Err, wait, go provide them liquidity for their trades at a lower price then our competitor offers for\nthe equivalent service... but like a hungry-while-still-nonthreatening animal.  Like a chipmunk.  Go chipmunk those trades!  \n\n## Your Goal\n* Make $10,000 in profit while minimizing your exposure to KnowledgeBrain Ltd..\n* Profit equals your current net asset value minus your basis.  Your basis is simply the sum of money you've spent so far.  Don't\nworry, to keep the math easy for you we're subsidizing the fees and commissions.\n* You should probably try to generate the profit via market making but if you're able to successfully speculate in KBL shares\nwell then good on you.\n\n## You'll Be Fired If\n\n* You take on excessive risk.  The risk desk says that, since you're new here, not to go over 1,000 shares in either direction.\n(You can borrow shares from Weasley, Sato, and Hughes costlessly if you need to be short shares.)\n* You lose too much money.  The risk desk periodically calculates the total value of your shares (calculated as of the last trade)\nand cash.  If they're unhappy with it, you're done.\n\n## A New Subtlety\n* You're a market maker, so you need to keep accurate records of what your position is at any given time.  We are keeping tabs\non it, too (the risk desk won't just \"take your word for it\"), but for compliance reasons, we don't feel the need to tell you what it is\nanymore.\n","Market Makers":"A **market maker** is a market participant (sometimes a formal role, often not) who provides *liquidity* in a stock, by being willing\nto buy the stock or sell the stock, substantially all of the time.  The market maker seeks to make a small amount of money on\na large amount of transactions by, on average, selling for slightly more than their buying price.  The difference between the price\nthat they're willing to buy at and the price that they're willing to sell at (at any given moment) is called \"the *spread*\".\n\nMarket makers are crucial to the financial markets.  A market without liquidity is a sucky market.  The market for houses has very\nlow liquidity: if you want to sell your house on Tuesday, it is unlikely that anyone wants to buy *exactly* your house on *exactly*\nTuesday, so you'd probably get a very, very poor price for it.  Similarly, if you wanted to buy *exactly* your dream house on *exactly*\nTuesday, you'd probably have to pay a ridiculous premium to the \"fair value\" of the house.\n\nImagine a world where there was someone you would call, name any address in the country, and immediately receive a buying\nprice and a selling price for that house.  That person would be a market maker.  They would make it much, much less difficulty\nfor you to get into or out of your desired exposure to a house on Tuesday.\n\nMarket makers are the counter-parties to *most* transactions on the stock exchange.  That sounds unlikely, but it is true: it is\nhighly unlikely that a pension fund seeking to unload 100,000 shares of Google executes that trade at *the exact instant* where\na stadium full of mom-and-pop investors are seeking to buy 2~5 shares of Google apiece.\n\n## What Do Market Makers Not Like?\n\nMarket makers don't like **inventory risk**.  They get paid to take on a small, short-term risk of being long (holding stock) or \nshort (borrowing stock) in the stock they're making a market for, with the intention of quickly having an order in the opposite\ndirection get them out of that position.\n\nIt is dangerous for a market maker to trade with *informed order flow*, i.e. someone with better-than-market understanding of\nthe near term future for a stock.  Someone who is trading a block (a lot of stock at once) is automatically informed order flow,\nsince they know that their current transaction for buying 100 shares is going to be followed not by a 50/50 chance of a sell but\nrather with a buy, a buy, another buy, some more buys, followed by more buying.\n\nIf a market maker continues to allow informed order flow to trade with them, they may find themselves with a larger position than\nthey anticipated at a price which is expensive to get out of, given the present state of the market.\n\n## How Do Market Makers Deal With This?\n\n1. *Profile incoming orders.*  Market makers, beginning with humans with \"a sense of the flow of the market\" and continuing to\nHFT algorithms in the present day, are in a constant cat-and-mouse game with informed order flow.  They'd prefer to transact\nminimally (if at all) with informed orders.\n\n2.  *Hedge.*  More sophisticated strategies are available after a market maker has multiple instruments they can trade in.  For\nexample, they can hedge a long position in a stock with options which synthetially cancel out some features of the position.\nThey could also e.g. hedge a position in a particular stock with an offsetting position in a separate stock believe to be highly\ncorrelated with the original stock (e.g. if you're long Toyota, sell Honda), with indexes/exchange traded funds, or with other\nderivatives.\n\n## How Do I Make Markets?\n\nBuy low.  Sell high.  Trade frequently.\n\n## No, Really?\n\nObserve what the provided market makers do, in particular how they quote spreads and periodically cancel orders when\nthe market moves in either direction.  The provided market makers are as unsophisticated as they can be and possibly work\n(n.b. under 100 lines of Ruby code).  You should be able to easily exploit their blind spots.  \n\nA freebie, since **people who\nactually read docs should be rewarded**: our least sophisticated market maker has no memory of closed orders and looks\nat the order book every N seconds as if the universe had just sprung into being.  That probably suggests at least one way\nto trick it into doing what you want.  Bonus points: if what you do to get what you want doesn't leave a signature in the order\nbook, it will *never* catch on.  (Note that a dumb market maker with smart participants next to it can function as a smart system\neven if they're not intentionally colluding, however.  One of the core insights of markets in general is that they quickly converge\non solutions which are better than individual participants would have come up with.  A market maker can surf on the market,\nwhich converges to a solution to your manipulation, without itself understanding that your manipulation even exists.)\n\nIn general, you want to \n\n1. quote a tighter spread (if the bot would quote $10 / $10.50, and you quote $10.05 / $10.45, you'll\nget the fills rather than the bot)\n2. attempt to profile incoming orders, for example by keeping state of your own recent orders and whether you appear to be\nhaving many similar ones happen in the same direction\n3. cancel and re-file your bids/asks when you develop inventory in either direction, potentially at a less favorable price if you're\nscared\n4. look for patterns in the market and in behavior of other participants.  Patterns which suggest anomalous behavior, which\nroutinely divulge that an order is from a sophisticated or unsophisticated source, or which allow you to predict the near-term\nbehavior of another participant are *very valuable indeed.*\n\n## Stockfighter Notes\n\nTake a look at the API docs for viewing an order's fills or the details of an execution.  Note that we don't expose any identifying\ninformation about your counterparty.  Now, try to think of creative ways that one can \"cheat\" the non-availability of that information.\n"},"tickers":["ANL"],"venues":["LELEX"],"secondsPerTradingDay":5}